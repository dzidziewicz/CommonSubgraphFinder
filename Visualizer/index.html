<html>

<head>
    <script src="data.js"></script>
    <script type="text/javascript" src="./vis.min.js"></script>
    <link href="./vis.min.css" rel="stylesheet" type="text/css" />

    <style type="text/css">
        #graph1 {
            width: 600px;
            height: 400px;
            border: 1px solid lightgray;
        }

        #graph2 {
            width: 600px;
            height: 400px;
            border: 1px solid lightgray;
        }
    </style>
</head>

<body>
    <div id="graph1"></div>
    <div id="graph2"></div>

    <script type="text/javascript">
        var rawNodes1 = Array(DATA.graph1Count).fill(0)
            .map((val, i) => { return { id: i, label: `${i}`, color: '#0091EA', font: { color: 'white'} } })
        var rawNodes2 = Array(DATA.graph2Count).fill(0)
            .map((val, i) => { return { id: i, label: `${i}`, color: '#0091EA', font: { color: 'white'} } })

        DATA.mapping1.forEach((m, i) => {
            rawNodes1[m].label = `${m}(${DATA.mapping2[i]})`
            rawNodes1[m].color = '#fb7600'
            rawNodes1[m].color = '#fb7600'
        })

        DATA.mapping2.forEach((m, i) => {
            rawNodes2[m].label = `${m}(${DATA.mapping1[i]})`
            rawNodes2[m].color = '#fb7600'
        })

        var nodes1 = new vis.DataSet(rawNodes1)
        var nodes2 = new vis.DataSet(rawNodes2)

        var rawEdges1 = []
        var rawEdges2 = []
        DATA.graph1.forEach(function (value, i) {
            let row = i % DATA.graph1Count
            let column = Math.floor(i / DATA.graph1Count)
            if (row < column && value === 1) {
                rawEdges1.push({ from: row, to: column, color: '#0091EA' })
            }
        });
        DATA.graph2.forEach(function (value, i) {
            let row = i % DATA.graph2Count
            let column = Math.floor(i / DATA.graph2Count)
            if (row < column && value === 1) {
                rawEdges2.push({ from: row, to: column, color: '#0091EA' })
            }
        });

        var edges1 = new vis.DataSet(rawEdges1);
        var edges2 = new vis.DataSet(rawEdges2);

        var container1 = document.getElementById('graph1');
        var container2 = document.getElementById('graph2');

        var data1 = {
            nodes: nodes1,
            edges: edges1
        };
        var data2 = {
            nodes: nodes2,
            edges: edges2
        };
        var options = {
            edges: {
                color: {
                    inherit: false,
                }
            }

        };

        var network1 = new vis.Network(container1, data1, options);
        var network2 = new vis.Network(container2, data2, options);
    </script>
</body>

</html>